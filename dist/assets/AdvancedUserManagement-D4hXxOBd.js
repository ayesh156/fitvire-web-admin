import{j as e,r as u,m as g,R as ae,u as F}from"./index-DZGIym51.js";import{E as ie,T as re,F as ne,P as le,C as oe}from"./trash-2-DHMqSKtr.js";import{A as ce,C as de}from"./chevron-down-DnmX2sM0.js";import{E as me}from"./eye-BXg5sJOZ.js";import{S as ue}from"./square-pen-BfaG8iKG.js";import{S as xe,U as B}from"./user-BdvU5WZ7.js";import{B as S}from"./Button-BWkWWL1g.js";import{B as v}from"./Badge-Bpf_xhgS.js";import{S as he}from"./search-BsTSAZuO.js";import{D as pe}from"./download-BoZywS2Q.js";import{S as fe}from"./shield-CObNEyEe.js";import{M as ge,C as je}from"./map-pin-7AZ0LE7u.js";import{S as ye}from"./star-t7JTHznp.js";import"./createLucideIcon-Cj-1CTCN.js";const ve=({items:n,className:f="",size:x="md",position:h="auto"})=>{const[o,p]=u.useState(!1),[s,a]=u.useState("right"),d=u.useRef(null),j=u.useRef(null),b={sm:"w-6 h-6 p-1",md:"w-8 h-8 p-1.5",lg:"w-10 h-10 p-2"},T={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};u.useEffect(()=>{if(o&&d.current&&j.current){const i=d.current.getBoundingClientRect(),m=200,A=window.innerWidth,P=window.pageXOffset,L=i.right+m>A+P;a(h==="auto"?L?"left":"right":h)}},[o,h]),u.useEffect(()=>{const i=m=>{j.current&&!j.current.contains(m.target)&&d.current&&!d.current.contains(m.target)&&p(!1)};if(o)return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[o]),u.useEffect(()=>{const i=m=>{m.key==="Escape"&&p(!1)};if(o)return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[o]);const D=i=>{i.disabled||(i.onClick(),p(!1))};return e.jsxs("div",{className:`relative inline-block ${f}`,children:[e.jsx("button",{ref:d,onClick:()=>p(!o),className:`
          ${b[x]}
          flex items-center justify-center
          text-neutral-400 hover:text-neutral-300 hover:bg-surface
          rounded-lg transition-all duration-200 ease-out
          focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-1 focus:ring-offset-background
          ${o?"bg-surface text-neutral-300":""}
        `,"aria-label":"Open menu","aria-expanded":o,"aria-haspopup":"true",children:e.jsx(ie,{className:T[x]})}),e.jsx(ce,{children:o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 md:hidden",onClick:()=>p(!1)}),e.jsx(g.div,{ref:j,initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},className:`
                absolute top-full mt-2 w-48 z-50
                glass-popup rounded-lg
                py-1 max-h-64 overflow-y-auto
                ${s==="left"?"right-0 origin-top-right":"left-0 origin-top-left"}
              `,role:"menu","aria-orientation":"vertical",children:n.map((i,m)=>e.jsxs(ae.Fragment,{children:[i.divider&&m>0&&e.jsx("div",{className:"my-1 border-t border-glass-border"}),e.jsxs("button",{onClick:()=>D(i),disabled:i.disabled,className:`
                      w-full flex items-center space-x-3 px-4 py-2.5 text-left text-sm
                      transition-colors duration-150
                      ${i.disabled?"text-neutral-500 cursor-not-allowed":"text-neutral-300 hover:text-neutral hover:bg-surface"}
                      ${i.className||""}
                      focus:outline-none focus:bg-surface focus:text-neutral
                    `,role:"menuitem",children:[e.jsx("div",{className:`
                      flex-shrink-0 
                      ${i.disabled?"text-neutral-500":"text-neutral-400"}
                    `,children:i.icon}),e.jsx("span",{className:"font-medium",children:i.label})]})]},i.id))})]})})]})},V=n=>({id:"settings",label:"Settings",icon:e.jsx(xe,{className:"w-4 h-4"}),onClick:n}),W=n=>({id:"profile",label:"Profile",icon:e.jsx(B,{className:"w-4 h-4"}),onClick:n}),J=n=>({id:"view",label:"View Details",icon:e.jsx(me,{className:"w-4 h-4"}),onClick:n}),Y=n=>({id:"edit",label:"Edit",icon:e.jsx(ue,{className:"w-4 h-4"}),onClick:n}),X=n=>({id:"delete",label:"Delete",icon:e.jsx(re,{className:"w-4 h-4"}),onClick:n,className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",divider:!0});function be({data:n,columns:f,title:x,description:h,searchable:o=!0,filterable:p=!0,exportable:s=!0,addable:a=!1,onAdd:d,onExport:j,pageSize:b=10,className:T="",enableActions:D=!0,customActions:i,onViewDetails:m,onEdit:A,onDelete:P,settingsPath:L="/settings",profilePath:_="/profile"}){const U=F(),[E,q]=u.useState(""),[N,G]=u.useState(null),[M,O]=u.useState("asc"),[y,$]=u.useState(1),z=n.filter(t=>E?Object.values(t).some(r=>String(r).toLowerCase().includes(E.toLowerCase())):!0),R=[...z].sort((t,r)=>{if(!N)return 0;const l=t[N],c=r[N];if(l===c)return 0;const w=l<c?-1:1;return M==="asc"?w:-w}),k=Math.ceil(R.length/b),C=(y-1)*b,I=R.slice(C,C+b),K=(t,r)=>{r&&(N===t?O(M==="asc"?"desc":"asc"):(G(t),O("asc")))},Z=()=>{if(j)j();else{const t=[f.map(w=>w.header).join(","),...z.map(w=>f.map(te=>{const se=w[te.key];return`"${String(se).replace(/"/g,'""')}"`}).join(","))].join(`
`),r=new Blob([t],{type:"text/csv"}),l=URL.createObjectURL(r),c=document.createElement("a");c.href=l,c.download=`${x||"data"}.csv`,c.click(),URL.revokeObjectURL(l)}},H=t=>{const r=[];return m&&r.push(J(()=>m(t))),A&&r.push(Y(()=>A(t))),r.push(V(()=>U(L))),r.push(W(()=>U(_))),P&&r.push(X(()=>P(t))),r},Q=t=>i?i(t):H(t),ee=(t,r,l)=>{if(t.render)return t.render(r[t.key],r,l);const c=r[t.key];return typeof c=="boolean"?e.jsx(v,{variant:c?"success":"danger",children:c?"Yes":"No"}):c&&Object.prototype.toString.call(c)==="[object Date]"?c.toLocaleDateString():String(c||"—")};return e.jsxs("div",{className:`space-y-6 ${T}`,children:[(x||h)&&e.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[x&&e.jsx("h2",{className:"text-2xl font-bold text-white",children:x}),h&&e.jsx("p",{className:"text-gray-400",children:h})]}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center flex-1",children:[o&&e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:E,onChange:t=>q(t.target.value),className:"pl-10 pr-4 py-2 w-64 bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",C+1,"-",Math.min(C+b,R.length)," of ",R.length," results"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p&&e.jsx(S,{variant:"ghost",size:"sm",icon:e.jsx(ne,{className:"w-4 h-4"}),children:"Filter"}),s&&e.jsx(S,{variant:"outline",size:"sm",icon:e.jsx(pe,{className:"w-4 h-4"}),onClick:Z,children:"Export"}),a&&d&&e.jsx(S,{variant:"primary",size:"sm",icon:e.jsx(le,{className:"w-4 h-4"}),onClick:d,children:"Add New"})]})]}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-800 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-750 border-b border-gray-700",children:e.jsxs("tr",{children:[f.map(t=>e.jsx("th",{className:`
                      px-6 py-4 text-left text-xs font-semibold text-gray-400 uppercase tracking-wide
                      ${t.sortable?"cursor-pointer hover:text-gray-300 select-none":""}
                      ${t.className||""}
                    `,style:{width:t.width},onClick:()=>K(String(t.key),t.sortable),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:t.header}),t.sortable&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx(oe,{className:`w-3 h-3 ${N===t.key&&M==="asc"?"text-brand-400":"text-gray-500"}`}),e.jsx(de,{className:`w-3 h-3 -mt-1 ${N===t.key&&M==="desc"?"text-brand-400":"text-gray-500"}`})]})]})},String(t.key))),D&&e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-400 uppercase tracking-wide w-16",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:I.map((t,r)=>e.jsxs(g.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:r*.02},className:"hover:bg-gray-750 transition-colors duration-150",children:[f.map(l=>e.jsx("td",{className:`px-6 py-4 text-sm text-gray-300 ${l.className||""}`,children:ee(l,t,C+r)},String(l.key))),D&&e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx(ve,{items:Q(t),size:"sm",position:"left"})})]},t.id))})]})}),I.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No data found"}),E&&e.jsx("div",{className:"text-gray-500 text-sm",children:"Try adjusting your search criteria"})]})]}),k>1&&e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center justify-between bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Page ",y," of ",k]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:()=>$(Math.max(1,y-1)),disabled:y===1,children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,k)},(t,r)=>{const l=r+1;return e.jsx("button",{onClick:()=>$(l),className:`
                      w-8 h-8 text-sm rounded-lg transition-colors duration-150
                      ${y===l?"bg-brand-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}
                    `,children:l},l)})}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>$(Math.min(k,y+1)),disabled:y===k,children:"Next"})]})]})]})}const Ue=()=>{const n=F(),f=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",role:"customer",status:"active",joinDate:"2024-01-15",lastActive:"2024-09-24",location:"New York, NY",subscriptionType:"Premium",workoutsCompleted:45,rating:4.8,verified:!0},{id:"2",name:"Mike Chen",email:"mike.chen@email.com",role:"partner",status:"active",joinDate:"2024-02-20",lastActive:"2024-09-23",location:"Los Angeles, CA",partnerType:"Personal Trainer",rating:4.9,verified:!0},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",role:"customer",status:"inactive",joinDate:"2024-03-10",lastActive:"2024-09-20",location:"Miami, FL",subscriptionType:"Basic",workoutsCompleted:12,rating:4.2,verified:!1},{id:"4",name:"David Park",email:"david.park@email.com",role:"partner",status:"active",joinDate:"2024-01-05",lastActive:"2024-09-24",location:"Seattle, WA",partnerType:"Gym Owner",rating:4.7,verified:!0},{id:"5",name:"Lisa Thompson",email:"lisa.thompson@email.com",role:"admin",status:"active",joinDate:"2023-12-01",lastActive:"2024-09-24",location:"Austin, TX",verified:!0},{id:"6",name:"Carlos Mendez",email:"carlos.mendez@email.com",role:"customer",status:"suspended",joinDate:"2024-04-15",lastActive:"2024-09-15",location:"Phoenix, AZ",subscriptionType:"Free Trial",workoutsCompleted:3,rating:3.5,verified:!1},{id:"7",name:"Anna Kowalski",email:"anna.kowalski@email.com",role:"partner",status:"pending",joinDate:"2024-09-20",lastActive:"2024-09-22",location:"Chicago, IL",partnerType:"Nutritionist",verified:!1},{id:"8",name:"James Wilson",email:"james.wilson@email.com",role:"manager",status:"active",joinDate:"2023-11-15",lastActive:"2024-09-24",location:"Denver, CO",verified:!0}],x=[{key:"name",header:"User",sortable:!0,render:(s,a)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-brand-500 to-brand-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-white",children:a.name.split(" ").map(d=>d[0]).join("")})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-white",children:a.name}),a.verified&&e.jsx("div",{title:"Verified",children:e.jsx(fe,{className:"w-4 h-4 text-brand-400"})})]}),e.jsx("div",{className:"text-sm text-neutral-400",children:a.email})]})]})},{key:"role",header:"Role",sortable:!0,render:s=>{const a={customer:"primary",partner:"success",admin:"danger",manager:"warning"};return e.jsx(v,{variant:a[s],children:s})}},{key:"status",header:"Status",sortable:!0,render:s=>{const a={active:"success",inactive:"gray",suspended:"danger",pending:"warning"};return e.jsx(v,{variant:a[s],children:s})}},{key:"location",header:"Location",render:s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-neutral-300",children:s})]})},{key:"subscriptionType",header:"Plan",render:(s,a)=>{if(a.role!=="customer")return"—";if(!s)return e.jsx(v,{variant:"gray",children:"No Plan"});const d={Premium:"success",Basic:"info","Free Trial":"warning"};return e.jsx(v,{variant:d[s],children:s})}},{key:"partnerType",header:"Specialization",render:(s,a)=>a.role!=="partner"?"—":s?e.jsx(v,{variant:"info",children:s}):e.jsx(v,{variant:"gray",children:"Unspecified"})},{key:"rating",header:"Rating",sortable:!0,render:s=>s?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ye,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-white font-medium",children:s})]}):"—"},{key:"joinDate",header:"Joined",sortable:!0,render:s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-neutral-300",children:new Date(s).toLocaleDateString()})]})}],h=s=>{const a=[];return a.push(J(()=>{console.log("View details for:",s.name)})),a.push(Y(()=>{console.log("Edit user:",s.name)})),a.push(V(()=>{n("/settings")})),a.push(W(()=>{n("/profile")})),s.role!=="admin"&&a.push(X(()=>{confirm(`Are you sure you want to delete ${s.name}?`)&&console.log("Delete user:",s.name)})),a},o=()=>{console.log("Add new user")},p=()=>{console.log("Exporting user data...")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx(B,{className:"w-8 h-8 text-brand-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Advanced User Management"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Comprehensive user management with intelligent action menus and navigation"})]})]}),e.jsx(be,{data:f,columns:x,title:"User Directory",description:"Manage users across all roles with advanced filtering and actions",searchable:!0,filterable:!0,exportable:!0,addable:!0,onAdd:o,onExport:p,pageSize:10,enableActions:!0,customActions:h,settingsPath:"/settings",profilePath:"/profile",onViewDetails:s=>console.log("View details:",s),onEdit:s=>console.log("Edit user:",s),onDelete:s=>{confirm(`Delete ${s.name}?`)&&console.log("Delete user:",s)}}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-surface rounded-lg p-6 border border-glass-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Action Menu Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-brand-400",children:"Intelligent Positioning"}),e.jsxs("ul",{className:"text-gray-400 space-y-1",children:[e.jsx("li",{children:"• Auto-detects container boundaries"}),e.jsx("li",{children:"• Prevents overflow with smart positioning"}),e.jsx("li",{children:"• Responsive design for mobile and desktop"}),e.jsx("li",{children:"• Click-outside and ESC key handling"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-brand-400",children:"Navigation Integration"}),e.jsxs("ul",{className:"text-gray-400 space-y-1",children:[e.jsx("li",{children:"• Direct navigation to Settings page"}),e.jsx("li",{children:"• Direct navigation to Profile page"}),e.jsx("li",{children:"• Contextual actions per user type"}),e.jsx("li",{children:"• Smooth animations and transitions"})]})]})]})]})]})};export{Ue as default};
