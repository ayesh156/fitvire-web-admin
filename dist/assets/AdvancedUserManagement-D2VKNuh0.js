import{j as e,r as x,m as g,R as re,u as B}from"./index-CUOHatz0.js";import{B as S,c as ie,a as ne,b as le}from"./Button-B0yPuW82.js";import{E as oe,C as ce}from"./ellipsis-DD3jgjsN.js";import{A as de}from"./index-C6FIlDl0.js";import{E as me}from"./eye-BHY9pgk7.js";import{S as xe}from"./square-pen-BgKmso8l.js";import{S as ue}from"./settings-v8dDOcPx.js";import{U as V}from"./user-1pDELhQL.js";import{T as he}from"./trash-2-DlHoU6zH.js";import{B as y}from"./Badge-BB2a9c37.js";import{S as pe}from"./search-Cwn-3E0S.js";import{F as fe}from"./funnel-CxYtimZv.js";import{D as ge}from"./download-DVyiB1tk.js";import{P as je}from"./plus-oJj_rx_P.js";import{C as ve}from"./chevron-down-Dc5y2l3m.js";import{P as ye}from"./PageContainer-0er3JD6w.js";import{S as F}from"./shield-Bn-Py0oU.js";import{M as be}from"./map-pin-CTT9xq44.js";import{S as Ne}from"./star-AR390UrY.js";import{C as we}from"./calendar-Bc_Af40x.js";import"./createLucideIcon-416et06r.js";const ke=({items:n,className:f="",size:u="md",position:h="auto"})=>{const[o,p]=x.useState(!1),[t,a]=x.useState("right"),d=x.useRef(null),j=x.useRef(null),b={sm:"w-6 h-6 p-1",md:"w-8 h-8 p-1.5",lg:"w-10 h-10 p-2"},T={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};x.useEffect(()=>{if(o&&d.current&&j.current){const r=d.current.getBoundingClientRect(),m=200,A=window.innerWidth,P=window.pageXOffset,L=r.right+m>A+P;a(h==="auto"?L?"left":"right":h)}},[o,h]),x.useEffect(()=>{const r=m=>{j.current&&!j.current.contains(m.target)&&d.current&&!d.current.contains(m.target)&&p(!1)};if(o)return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[o]),x.useEffect(()=>{const r=m=>{m.key==="Escape"&&p(!1)};if(o)return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[o]);const D=r=>{r.disabled||(r.onClick(),p(!1))};return e.jsxs("div",{className:`relative inline-block ${f}`,children:[e.jsx("button",{ref:d,onClick:()=>p(!o),className:`
          ${b[u]}
          flex items-center justify-center
          text-neutral-400 hover:text-neutral-300 hover:bg-surface
          rounded-lg transition-all duration-200 ease-out
          focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-1 focus:ring-offset-background
          ${o?"bg-surface text-neutral-300":""}
        `,"aria-label":"Open menu","aria-expanded":o,"aria-haspopup":"true",children:e.jsx(oe,{className:T[u]})}),e.jsx(de,{children:o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 md:hidden",onClick:()=>p(!1)}),e.jsx(g.div,{ref:j,initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},className:`
                absolute top-full mt-2 w-48 z-50
                glass-popup rounded-lg
                py-1 max-h-64 overflow-y-auto
                ${t==="left"?"right-0 origin-top-right":"left-0 origin-top-left"}
              `,role:"menu","aria-orientation":"vertical",children:n.map((r,m)=>e.jsxs(re.Fragment,{children:[r.divider&&m>0&&e.jsx("div",{className:"my-1 border-t border-glass-border"}),e.jsxs("button",{onClick:()=>D(r),disabled:r.disabled,className:`
                      w-full flex items-center space-x-3 px-4 py-2.5 text-left text-sm
                      transition-colors duration-150
                      ${r.disabled?"text-neutral-500 cursor-not-allowed":"text-neutral-300 hover:text-neutral hover:bg-surface"}
                      ${r.className||""}
                      focus:outline-none focus:bg-surface focus:text-neutral
                    `,role:"menuitem",children:[e.jsx("div",{className:`
                      flex-shrink-0 
                      ${r.disabled?"text-neutral-500":"text-neutral-400"}
                    `,children:r.icon}),e.jsx("span",{className:"font-medium",children:r.label})]})]},r.id))})]})})]})},W=n=>({id:"settings",label:"Settings",icon:e.jsx(ue,{className:"w-4 h-4"}),onClick:n}),J=n=>({id:"profile",label:"Profile",icon:e.jsx(V,{className:"w-4 h-4"}),onClick:n}),Y=n=>({id:"view",label:"View Details",icon:e.jsx(me,{className:"w-4 h-4"}),onClick:n}),X=n=>({id:"edit",label:"Edit",icon:e.jsx(xe,{className:"w-4 h-4"}),onClick:n}),_=n=>({id:"delete",label:"Delete",icon:e.jsx(he,{className:"w-4 h-4"}),onClick:n,className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",divider:!0});function Ce({data:n,columns:f,title:u,description:h,searchable:o=!0,filterable:p=!0,exportable:t=!0,addable:a=!1,onAdd:d,onExport:j,pageSize:b=10,className:T="",enableActions:D=!0,customActions:r,onViewDetails:m,onEdit:A,onDelete:P,settingsPath:L="/settings",profilePath:q="/profile"}){const U=B(),[E,G]=x.useState(""),[N,K]=x.useState(null),[M,O]=x.useState("asc"),[v,$]=x.useState(1),z=n.filter(s=>E?Object.values(s).some(i=>String(i).toLowerCase().includes(E.toLowerCase())):!0),R=[...z].sort((s,i)=>{if(!N)return 0;const l=s[N],c=i[N];if(l===c)return 0;const w=l<c?-1:1;return M==="asc"?w:-w}),k=Math.ceil(R.length/b),C=(v-1)*b,I=R.slice(C,C+b),Z=(s,i)=>{i&&(N===s?O(M==="asc"?"desc":"asc"):(K(s),O("asc")))},H=()=>{if(j)j();else{const s=[f.map(w=>w.header).join(","),...z.map(w=>f.map(te=>{const ae=w[te.key];return`"${String(ae).replace(/"/g,'""')}"`}).join(","))].join(`
`),i=new Blob([s],{type:"text/csv"}),l=URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=`${u||"data"}.csv`,c.click(),URL.revokeObjectURL(l)}},Q=s=>{const i=[];return m&&i.push(Y(()=>m(s))),A&&i.push(X(()=>A(s))),i.push(W(()=>U(L))),i.push(J(()=>U(q))),P&&i.push(_(()=>P(s))),i},ee=s=>r?r(s):Q(s),se=(s,i,l)=>{if(s.render)return s.render(i[s.key],i,l);const c=i[s.key];return typeof c=="boolean"?e.jsx(y,{variant:c?"success":"danger",children:c?"Yes":"No"}):c&&Object.prototype.toString.call(c)==="[object Date]"?c.toLocaleDateString():String(c||"—")};return e.jsxs("div",{className:`space-y-6 ${T}`,children:[(u||h)&&e.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[u&&e.jsx("h2",{className:"text-2xl font-bold text-white",children:u}),h&&e.jsx("p",{className:"text-neutral/70",children:h})]}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-start justify-between gap-4 rounded-2xl border border-glass-border bg-surface/40 p-4 backdrop-blur-sm sm:flex-row sm:items-center",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center flex-1",children:[o&&e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-neutral/50"}),e.jsx("input",{type:"text",placeholder:"Search...",value:E,onChange:s=>G(s.target.value),className:"w-64 rounded-xl border border-glass-border bg-surface/60 pl-10 pr-4 py-2 text-sm text-white placeholder:text-neutral/60 focus:outline-none focus:ring-2 focus:ring-primary-500/30 focus:border-primary-500 transition-all duration-200"})]}),e.jsxs("div",{className:"text-sm text-neutral/60",children:["Showing ",C+1,"-",Math.min(C+b,R.length)," of ",R.length," results"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p&&e.jsx(S,{variant:"ghost",size:"sm",icon:e.jsx(fe,{className:"w-4 h-4"}),children:"Filter"}),t&&e.jsx(S,{variant:"outline",size:"sm",icon:e.jsx(ge,{className:"w-4 h-4"}),onClick:H,children:"Export"}),a&&d&&e.jsx(S,{variant:"primary",size:"sm",icon:e.jsx(je,{className:"w-4 h-4"}),onClick:d,children:"Add New"})]})]}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:ie(ne,le.surface,"overflow-hidden"),children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-750 border-b border-gray-700",children:e.jsxs("tr",{children:[f.map(s=>e.jsx("th",{className:`
                      px-6 py-4 text-left text-xs font-semibold text-neutral/60 uppercase tracking-wide transition-colors duration-200
                      ${s.sortable?"cursor-pointer hover:text-white/90 select-none":""}
                      ${s.className||""}
                    `,style:{width:s.width},onClick:()=>Z(String(s.key),s.sortable),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:s.header}),s.sortable&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx(ce,{className:`w-3 h-3 ${N===s.key&&M==="asc"?"text-primary-400":"text-neutral/50"}`}),e.jsx(ve,{className:`w-3 h-3 -mt-1 ${N===s.key&&M==="desc"?"text-primary-400":"text-neutral/50"}`})]})]})},String(s.key))),D&&e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-400 uppercase tracking-wide w-16",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:I.map((s,i)=>e.jsxs(g.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:i*.02},className:"hover:bg-gray-750 transition-colors duration-150",children:[f.map(l=>e.jsx("td",{className:`px-6 py-4 text-sm text-gray-300 ${l.className||""}`,children:se(l,s,C+i)},String(l.key))),D&&e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx(ke,{items:ee(s),size:"sm",position:"left"})})]},s.id))})]})}),I.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No data found"}),E&&e.jsx("div",{className:"text-gray-500 text-sm",children:"Try adjusting your search criteria"})]})]}),k>1&&e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center justify-between rounded-2xl border border-glass-border bg-surface/40 p-4 backdrop-blur-sm",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Page ",v," of ",k]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:()=>$(Math.max(1,v-1)),disabled:v===1,children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,k)},(s,i)=>{const l=i+1;return e.jsx("button",{onClick:()=>$(l),className:`
                      w-8 h-8 text-sm rounded-lg transition-colors duration-150
                      ${v===l?"bg-brand-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}
                    `,children:l},l)})}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>$(Math.min(k,v+1)),disabled:v===k,children:"Next"})]})]})]})}const _e=()=>{const n=B(),f=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",role:"customer",status:"active",joinDate:"2024-01-15",lastActive:"2024-09-24",location:"New York, NY",subscriptionType:"Premium",workoutsCompleted:45,rating:4.8,verified:!0},{id:"2",name:"Mike Chen",email:"mike.chen@email.com",role:"partner",status:"active",joinDate:"2024-02-20",lastActive:"2024-09-23",location:"Los Angeles, CA",partnerType:"Personal Trainer",rating:4.9,verified:!0},{id:"3",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",role:"customer",status:"inactive",joinDate:"2024-03-10",lastActive:"2024-09-20",location:"Miami, FL",subscriptionType:"Basic",workoutsCompleted:12,rating:4.2,verified:!1},{id:"4",name:"David Park",email:"david.park@email.com",role:"partner",status:"active",joinDate:"2024-01-05",lastActive:"2024-09-24",location:"Seattle, WA",partnerType:"Gym Owner",rating:4.7,verified:!0},{id:"5",name:"Lisa Thompson",email:"lisa.thompson@email.com",role:"admin",status:"active",joinDate:"2023-12-01",lastActive:"2024-09-24",location:"Austin, TX",verified:!0},{id:"6",name:"Carlos Mendez",email:"carlos.mendez@email.com",role:"customer",status:"suspended",joinDate:"2024-04-15",lastActive:"2024-09-15",location:"Phoenix, AZ",subscriptionType:"Free Trial",workoutsCompleted:3,rating:3.5,verified:!1},{id:"7",name:"Anna Kowalski",email:"anna.kowalski@email.com",role:"partner",status:"pending",joinDate:"2024-09-20",lastActive:"2024-09-22",location:"Chicago, IL",partnerType:"Nutritionist",verified:!1},{id:"8",name:"James Wilson",email:"james.wilson@email.com",role:"manager",status:"active",joinDate:"2023-11-15",lastActive:"2024-09-24",location:"Denver, CO",verified:!0}],u=[{key:"name",header:"User",sortable:!0,render:(t,a)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-brand-500 to-brand-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-white",children:a.name.split(" ").map(d=>d[0]).join("")})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-white",children:a.name}),a.verified&&e.jsx("div",{title:"Verified",children:e.jsx(F,{className:"w-4 h-4 text-brand-400"})})]}),e.jsx("div",{className:"text-sm text-neutral-400",children:a.email})]})]})},{key:"role",header:"Role",sortable:!0,render:t=>{const a={customer:"primary",partner:"success",admin:"danger",manager:"warning"};return e.jsx(y,{variant:a[t],children:t})}},{key:"status",header:"Status",sortable:!0,render:t=>{const a={active:"success",inactive:"neutral",suspended:"danger",pending:"warning"};return e.jsx(y,{variant:a[t],children:t})}},{key:"location",header:"Location",render:t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-neutral-300",children:t})]})},{key:"subscriptionType",header:"Plan",render:(t,a)=>{if(a.role!=="customer")return"—";if(!t)return e.jsx(y,{variant:"neutral",children:"No Plan"});const d={Premium:"success",Basic:"info","Free Trial":"warning"};return e.jsx(y,{variant:d[t],children:t})}},{key:"partnerType",header:"Specialization",render:(t,a)=>a.role!=="partner"?"—":t?e.jsx(y,{variant:"info",children:t}):e.jsx(y,{variant:"neutral",children:"Unspecified"})},{key:"rating",header:"Rating",sortable:!0,render:t=>t?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ne,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-white font-medium",children:t})]}):"—"},{key:"joinDate",header:"Joined",sortable:!0,render:t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(we,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-neutral-300",children:new Date(t).toLocaleDateString()})]})}],h=t=>{const a=[];return a.push(Y(()=>{console.log("View details for:",t.name)})),a.push(X(()=>{console.log("Edit user:",t.name)})),a.push(W(()=>{n("/settings")})),a.push(J(()=>{n("/profile")})),t.role!=="admin"&&a.push(_(()=>{confirm(`Are you sure you want to delete ${t.name}?`)&&console.log("Delete user:",t.name)})),a},o=()=>{console.log("Add new user")},p=()=>{console.log("Exporting user data...")};return e.jsxs(ye,{className:"gap-6",children:[e.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-4 bg-primary/20 rounded-3xl",children:e.jsx(V,{className:"w-10 h-10 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white font-display",children:"Advanced User Management"}),e.jsx("p",{className:"text-neutral/80 text-lg mt-2",children:"Comprehensive user management with intelligent action menus and navigation"})]})]}),e.jsx(Ce,{data:f,columns:u,title:"User Directory",description:"Manage users across all roles with advanced filtering and actions",searchable:!0,filterable:!0,exportable:!0,addable:!0,onAdd:o,onExport:p,pageSize:10,enableActions:!0,customActions:h,settingsPath:"/settings",profilePath:"/profile",onViewDetails:t=>console.log("View details:",t),onEdit:t=>console.log("Edit user:",t),onDelete:t=>{confirm(`Delete ${t.name}?`)&&console.log("Delete user:",t)}}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-surface/40 backdrop-blur-sm rounded-2xl p-8 border border-glass-border",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:e.jsx(F,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Action Menu Features"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-primary text-lg",children:"Intelligent Positioning"}),e.jsxs("ul",{className:"text-neutral/80 space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Auto-detects container boundaries"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Prevents overflow with smart positioning"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Responsive design for mobile and desktop"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Click-outside and ESC key handling"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-primary text-lg",children:"Navigation Integration"}),e.jsxs("ul",{className:"text-neutral/80 space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Direct navigation to Settings page"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Direct navigation to Profile page"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Contextual actions per user type"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Smooth animations and transitions"})]})]})]})]})]})]})};export{_e as default};
