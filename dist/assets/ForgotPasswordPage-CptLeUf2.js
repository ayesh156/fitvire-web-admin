import{r as v,j as e,m as a}from"./index-CUOHatz0.js";import{u as w,a as j,o as N,s as k}from"./schemas-Bw3N84gd.js";import{u as S}from"./useAuth-DavIqWaB.js";import{A as o}from"./AuthLayout-D7woBCdN.js";import{B as l}from"./Button-B0yPuW82.js";import{I as C}from"./Input-oOn517Ah.js";import{C as E}from"./circle-check-big-C3qhY9i8.js";import{M as I}from"./mail-WOe8QKTF.js";import{A as P}from"./arrow-left-DGMfAXgE.js";import"./GlassCard-D31sd0LJ.js";import"./createLucideIcon-416et06r.js";import"./eye-BHY9pgk7.js";const B=N({email:k().min(1,"Email is required").email("Please enter a valid email address")}),Y=()=>{const{forgotPassword:n,isLoading:r,error:s,isSuccess:d,reset:t}=S(),{register:c,handleSubmit:m,formState:{errors:u,isValid:p},watch:h}=w({resolver:j(B),mode:"onChange",defaultValues:{email:""}}),x=h("email");v.useEffect(()=>{s&&t()},[x,s,t]);const y=async f=>{try{await n({email:f.email})}catch(g){console.error("Forgot password failed:",g)}},i=()=>{console.log("Navigate back to login")},b=()=>{console.log("Resend email")};return d?e.jsx(o,{title:"Check Your Email",subtitle:"We've sent password reset instructions to your email",children:e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[e.jsx(a.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto w-20 h-20 bg-primary/20 backdrop-blur-sm rounded-2xl flex items-center justify-center border border-primary/30",children:e.jsx(E,{className:"h-10 w-10 text-primary"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white text-base font-medium",children:"If an admin account with that email address exists, we've sent you a password reset link."}),e.jsx("p",{className:"text-neutral/80 text-sm leading-relaxed",children:"Please check your email and follow the instructions to reset your password."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a.div,{whileHover:{scale:1.02},children:e.jsx(l,{variant:"primary",fullWidth:!0,size:"lg",onClick:i,className:"bg-gradient-to-r from-primary to-primary-hover hover:shadow-lg hover:shadow-primary/25",children:"Back to Sign In"})}),e.jsx(a.button,{whileHover:{scale:1.05},onClick:b,className:"text-sm text-primary hover:text-primary-hover transition-colors duration-300 font-medium",children:"Didn't receive the email? Resend"})]}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-6 p-4 bg-surface/30 backdrop-blur-sm border border-glass-border rounded-xl",children:e.jsx("p",{className:"text-xs text-neutral/80 text-center leading-relaxed",children:"If you continue to have trouble accessing your account, please contact the system administrator."})})]})}):e.jsx(o,{title:"Reset Password",subtitle:"Enter your email address and we'll send you reset instructions",children:e.jsxs("form",{onSubmit:m(y),className:"space-y-6",children:[s&&e.jsx(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-500/10 backdrop-blur-sm border border-red-500/30 rounded-xl",children:e.jsx("p",{className:"text-red-400 text-sm font-medium",children:s})}),e.jsx("div",{children:e.jsx(C,{...c("email"),type:"email",label:"Email Address",placeholder:"Enter your admin email address",leftIcon:e.jsx(I,{className:"h-4 w-4"}),error:u.email?.message,disabled:r,autoComplete:"email",autoFocus:!0})}),e.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(l,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,disabled:!p||r,loading:r,className:"bg-gradient-to-r from-primary to-primary-hover hover:shadow-lg hover:shadow-primary/25 py-4 text-lg font-semibold",children:r?"Sending...":"Send Reset Instructions"})}),e.jsx("div",{className:"text-center",children:e.jsxs(a.button,{whileHover:{x:-2},type:"button",onClick:i,className:"inline-flex items-center gap-2 text-sm text-neutral/70 hover:text-white transition-all duration-300 font-medium",disabled:r,children:[e.jsx(P,{className:"h-4 w-4"}),"Back to Sign In"]})}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-6 p-4 bg-surface/30 backdrop-blur-sm border border-glass-border rounded-xl",children:e.jsxs("p",{className:"text-xs text-neutral/80 text-center leading-relaxed",children:["For security reasons, password reset is only available for verified admin accounts.",e.jsx("br",{}),"The reset link will expire in 1 hour."]})})]})})};export{Y as ForgotPasswordPage,Y as default};
