import{r as d,R as A,j as e,m as j}from"./index-DZGIym51.js";import{S as $}from"./search-BsTSAZuO.js";import{C as B,E as R,F as P,P as z,T as _}from"./trash-2-DHMqSKtr.js";import{C as U,A as G}from"./chevron-down-DnmX2sM0.js";import{B as E}from"./Button-BWkWWL1g.js";import{B as S}from"./Badge-Bpf_xhgS.js";import{c as L}from"./createLucideIcon-Cj-1CTCN.js";import{D as I}from"./download-BoZywS2Q.js";import{U as F}from"./users-ZVreVsIC.js";import{U as J}from"./user-check-BLJ-0F_L.js";import{E as q}from"./eye-BXg5sJOZ.js";import{S as K}from"./square-pen-BfaG8iKG.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],W=L("check",H);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Q=L("user-x",X),Y=({data:r,columns:u,actions:a,searchable:m=!1,searchPlaceholder:f="Search...",title:g,subtitle:p,className:x="",emptyMessage:c="No data available",loading:y=!1})=>{const[o,N]=d.useState(null),[h,s]=d.useState("asc"),[n,b]=d.useState(""),[w,k]=d.useState(null);A.useEffect(()=>{const t=()=>k(null);if(w!==null)return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[w]);const M=t=>{o===t?s(h==="asc"?"desc":"asc"):(N(t),s("asc"))},C=A.useMemo(()=>{let t=r;return m&&n&&(t=r.filter(l=>Object.values(l).some(i=>String(i).toLowerCase().includes(n.toLowerCase())))),o&&(t=[...t].sort((l,i)=>{const v=l[o],D=i[o];return v<D?h==="asc"?-1:1:v>D?h==="asc"?1:-1:0})),t},[r,n,o,h,m]),O=(t,l)=>{const i=t[l.key];return l.render?l.render(i,t):i};return y?e.jsx("div",{className:`bg-white rounded-2xl border border-gray-200 ${x}`,children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((t,l)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded"})]},l))})]})})}):e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-800 rounded-2xl border border-gray-700 shadow-sm ${x}`,children:[(g||p||m)&&e.jsx("div",{className:"px-6 py-5 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[g&&e.jsx("h3",{className:"text-lg font-semibold text-white",children:g}),p&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:p})]}),m&&e.jsxs("div",{className:"relative max-w-xs",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx($,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:f,value:n,onChange:t=>b(t.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-600 rounded-lg text-sm placeholder-gray-400 bg-gray-700 text-white focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-750",children:[u.map((t,l)=>e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider ${t.sortable?"cursor-pointer hover:bg-gray-700":""} ${t.className||""}`,onClick:()=>t.sortable&&M(String(t.key)),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:t.header}),t.sortable&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx(B,{className:`h-3 w-3 ${o===t.key&&h==="asc"?"text-brand-600":"text-gray-400"}`}),e.jsx(U,{className:`h-3 w-3 -mt-1 ${o===t.key&&h==="desc"?"text-brand-600":"text-gray-400"}`})]})]})},l)),a&&a.length>0&&e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:u.length+(a?1:0),className:"px-6 py-12 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx($,{className:"w-6 h-6 text-gray-400"})}),e.jsx("p",{className:"text-lg font-medium text-white mb-1",children:"No results found"}),e.jsx("p",{className:"text-sm text-gray-400",children:c})]})})}):C.map((t,l)=>e.jsxs(j.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:l*.05},className:"hover:bg-gray-750 transition-colors duration-150",children:[u.map((i,v)=>e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-white ${i.className||""}`,children:O(t,i)},v)),a&&a.length>0&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:i=>{i.stopPropagation(),k(w===l?null:l)},className:"text-gray-400 hover:text-gray-300 p-1 rounded-full hover:bg-gray-700 transition-colors duration-150",children:e.jsx(R,{className:"h-4 w-4"})}),w===l&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-gray-700 rounded-lg shadow-xl border border-gray-600 z-50 transform -translate-x-2",children:e.jsx("div",{className:"py-1",children:a.filter(i=>!i.show||i.show(t)).map((i,v)=>e.jsxs("button",{onClick:()=>{i.onClick(t),k(null)},className:`flex items-center w-full px-4 py-2 text-sm text-left hover:bg-gray-600 transition-colors duration-150 ${i.className||"text-gray-300"}`,children:[i.icon&&e.jsx("span",{className:"mr-3",children:i.icon}),i.label]},v))})})]})})]},l))})]})})]})},T=({label:r,options:u,selectedValues:a,onSelectionChange:m,placeholder:f="Select options",multiSelect:g=!0,className:p=""})=>{const[x,c]=d.useState(!1),y=d.useRef(null),o=d.useRef(null);d.useEffect(()=>{const s=n=>{y.current&&!y.current.contains(n.target)&&o.current&&!o.current.contains(n.target)&&c(!1)};if(x)return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[x]);const N=s=>{if(g){const n=a.includes(s)?a.filter(b=>b!==s):[...a,s];m(n)}else m([s]),c(!1)},h=()=>a.length===0?f:a.length===1?u.find(n=>n.value===a[0])?.label||a[0]:`${a.length} selected`;return e.jsxs("div",{className:`relative ${p}`,children:[e.jsxs("button",{ref:o,onClick:()=>c(!x),className:"flex items-center space-x-2 px-4 py-2 bg-gray-800 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-700 hover:border-gray-500 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-brand-500",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:r}),a.length>0&&e.jsx("span",{className:"bg-brand-600 text-white text-xs px-2 py-0.5 rounded-full",children:a.length}),e.jsx(U,{className:`w-4 h-4 transition-transform duration-200 ${x?"rotate-180":""}`})]}),e.jsx(G,{children:x&&e.jsxs(j.div,{ref:y,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 mt-2 w-64 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium text-white",children:r}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h()})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:u.map(s=>{const n=a.includes(s.value);return e.jsxs("button",{onClick:()=>N(s.value),className:`
                      w-full flex items-center justify-between px-4 py-3 text-sm text-left hover:bg-gray-700 transition-colors duration-150
                      ${n?"bg-brand-900/30 text-brand-300":"text-gray-300"}
                    `,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`
                        w-4 h-4 rounded border-2 flex items-center justify-center transition-colors duration-150
                        ${n?"bg-brand-600 border-brand-600":"border-gray-500 hover:border-gray-400"}
                      `,children:n&&e.jsx(W,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-medium",children:s.label})]}),s.count!==void 0&&e.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded-full",children:s.count})]},s.value)})}),g&&a.length>0&&e.jsxs("div",{className:"p-3 border-t border-gray-700 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:[a.length," of ",u.length," selected"]}),e.jsx("button",{onClick:()=>m([]),className:"text-xs text-brand-400 hover:text-brand-300 font-medium",children:"Clear All"})]})]})})]})},de=()=>{const[r,u]=d.useState("customers"),[a,m]=d.useState([]),[f,g]=d.useState([]),[p,x]=d.useState([]),c=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",role:"customer",status:"active",joinDate:"2024-01-15",lastActive:"2024-09-24",workoutsCompleted:45,subscriptionType:"Premium"},{id:"2",name:"Elite Fitness Center",email:"contact@elitefitness.com",role:"partner",status:"active",joinDate:"2024-02-01",lastActive:"2024-09-25",partnerType:"Gym"},{id:"3",name:"Mike Davis",email:"mike.davis@email.com",role:"customer",status:"inactive",joinDate:"2024-03-10",lastActive:"2024-08-15",workoutsCompleted:12,subscriptionType:"Basic"},{id:"4",name:"John Smith",email:"john.smith@fitvire.com",role:"admin",status:"active",joinDate:"2023-12-01",lastActive:"2024-09-25"}],y=c.filter(s=>{let n=!1;if(r==="customers"&&(n=s.role==="customer"),r==="partners"&&(n=s.role==="partner"),r==="management"&&(n=s.role==="admin"),!n||a.length>0&&!a.includes(s.status)||r==="customers"&&f.length>0&&(!s.subscriptionType||!f.includes(s.subscriptionType.toLowerCase())))return!1;if(r==="partners"&&p.length>0){if(!s.partnerType)return!1;const b={trainer:"Personal Trainer",gym:"Gym Owner",nutritionist:"Nutritionist"};if(!p.map(k=>b[k]).filter(Boolean).includes(s.partnerType))return!1}return!0}),o=[{key:"name",header:"User",sortable:!0,render:(s,n)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-sm font-medium text-white",children:n.name.split(" ").map(b=>b[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:n.name}),e.jsx("p",{className:"text-sm text-gray-400",children:n.email})]})]})},{key:"status",header:"Status",sortable:!0,render:s=>e.jsx(S,{variant:s==="active"?"success":s==="suspended"?"danger":"warning",dot:!0,children:s.charAt(0).toUpperCase()+s.slice(1)})},{key:"joinDate",header:"Join Date",sortable:!0,render:s=>new Date(s).toLocaleDateString()},{key:"lastActive",header:"Last Active",sortable:!0,render:s=>new Date(s).toLocaleDateString()}];r==="customers"?o.splice(2,0,{key:"subscriptionType",header:"Subscription",render:s=>e.jsx(S,{variant:s==="Premium"?"primary":"secondary",children:s})},{key:"workoutsCompleted",header:"Workouts",sortable:!0,render:s=>e.jsx("span",{className:"text-brand-400 font-medium",children:s||0})}):r==="partners"&&o.splice(2,0,{key:"partnerType",header:"Type",render:s=>e.jsx(S,{variant:"info",children:s})});const N=[{label:"View Details",icon:e.jsx(q,{className:"w-4 h-4"}),onClick:s=>console.log("View user:",s)},{label:"Edit User",icon:e.jsx(K,{className:"w-4 h-4"}),onClick:s=>console.log("Edit user:",s)},{label:"Delete User",icon:e.jsx(_,{className:"w-4 h-4"}),onClick:s=>console.log("Delete user:",s),className:"text-red-600 hover:bg-red-50",show:s=>s.role!=="admin"}],h=s=>{switch(s){case"customers":return e.jsx(F,{className:"w-4 h-4"});case"partners":return e.jsx(J,{className:"w-4 h-4"});case"management":return e.jsx(Q,{className:"w-4 h-4"});default:return e.jsx(F,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"User Management"}),e.jsx("p",{className:"text-gray-400",children:"Manage customers, partners, and administrative users across the FitVire platform."})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(E,{variant:"outline",icon:e.jsx(I,{className:"w-4 h-4"}),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Export"}),e.jsx(E,{variant:"primary",icon:e.jsx(z,{className:"w-4 h-4"}),children:"Add User"})]})]}),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"border-b border-gray-700",children:e.jsx("nav",{className:"flex space-x-8",children:["customers","partners","management"].map(s=>e.jsxs("button",{onClick:()=>u(s),className:`
                flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors
                ${r===s?"border-brand-500 text-brand-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-600"}
              `,children:[h(s),e.jsx("span",{className:"capitalize",children:s}),e.jsx(S,{variant:"gray",size:"sm",children:y.length})]},s))})}),e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Filters"}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",y.length," ",r]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Sort by:"}),e.jsxs("select",{className:"bg-gray-700 border border-gray-600 text-white text-sm rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-brand-500 focus:border-brand-500",children:[e.jsx("option",{children:"Name"}),e.jsx("option",{children:"Join Date"}),e.jsx("option",{children:"Last Active"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(T,{label:"Status",options:[{value:"active",label:"Active",count:c.filter(s=>s.role===(r==="customers"?"customer":r==="partners"?"partner":"admin")&&s.status==="active").length},{value:"inactive",label:"Inactive",count:c.filter(s=>s.role===(r==="customers"?"customer":r==="partners"?"partner":"admin")&&s.status==="inactive").length},{value:"suspended",label:"Suspended",count:c.filter(s=>s.role===(r==="customers"?"customer":r==="partners"?"partner":"admin")&&s.status==="suspended").length}],selectedValues:a,onSelectionChange:m,placeholder:"All Statuses"}),r==="customers"&&e.jsx(T,{label:"Subscription",options:[{value:"premium",label:"Premium",count:c.filter(s=>s.role==="customer"&&s.subscriptionType==="Premium").length},{value:"basic",label:"Basic",count:c.filter(s=>s.role==="customer"&&s.subscriptionType==="Basic").length},{value:"free",label:"Free Trial",count:c.filter(s=>s.role==="customer"&&s.subscriptionType==="Free Trial").length}],selectedValues:f,onSelectionChange:g,placeholder:"All Subscriptions"}),r==="partners"&&e.jsx(T,{label:"Partner Type",options:[{value:"trainer",label:"Personal Trainer",count:c.filter(s=>s.role==="partner"&&s.partnerType==="Personal Trainer").length},{value:"gym",label:"Gym Owner",count:c.filter(s=>s.role==="partner"&&s.partnerType==="Gym Owner").length},{value:"nutritionist",label:"Nutritionist",count:c.filter(s=>s.role==="partner"&&s.partnerType==="Nutritionist").length}],selectedValues:p,onSelectionChange:x,placeholder:"All Partner Types"})]})]}),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(Y,{data:y,columns:o,actions:N,searchable:!0,searchPlaceholder:`Search ${r}...`,className:"bg-gray-800 border-gray-700",emptyMessage:`No ${r} found`})})]})};export{de as default};
