import{r as b,j as e,m as i}from"./index-DZGIym51.js";import{u as v,a as w,o as N,s as k}from"./schemas-0DmzWErH.js";import{u as S}from"./useAuth-C730o3yX.js";import{A as o}from"./AuthLayout-DyxEET22.js";import{B as l}from"./Button-BWkWWL1g.js";import{I as C}from"./Input-T8-NKz_0.js";import{C as E}from"./circle-check-big-kxv8sWiN.js";import{M as I}from"./mail-iXh5kbdk.js";import{A as P}from"./arrow-left-Coh7GVSd.js";import"./GlassCard-Cb11zpvi.js";import"./createLucideIcon-Cj-1CTCN.js";import"./eye-BXg5sJOZ.js";const B=N({email:k().min(1,"Email is required").email("Please enter a valid email address")}),G=()=>{const{forgotPassword:n,isLoading:s,error:t,isSuccess:c,reset:r}=S(),{register:d,handleSubmit:m,formState:{errors:u,isValid:x},watch:p}=v({resolver:w(B),mode:"onChange",defaultValues:{email:""}}),h=p("email");b.useEffect(()=>{t&&r()},[h,t,r]);const y=async g=>{try{await n({email:g.email})}catch(j){console.error("Forgot password failed:",j)}},a=()=>{console.log("Navigate back to login")},f=()=>{console.log("Resend email")};return c?e.jsx(o,{title:"Check Your Email",subtitle:"We've sent password reset instructions to your email",children:e.jsxs(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"h-8 w-8 text-green-500"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-neutral text-sm",children:"If an admin account with that email address exists, we've sent you a password reset link."}),e.jsx("p",{className:"text-neutral/70 text-xs",children:"Please check your email and follow the instructions to reset your password."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{variant:"primary",fullWidth:!0,onClick:a,children:"Back to Sign In"}),e.jsx("button",{onClick:f,className:"text-sm text-primary-500 hover:text-primary-400 transition-colors",children:"Didn't receive the email? Resend"})]}),e.jsx("div",{className:"mt-6 p-4 bg-primary-500/5 border border-primary-500/20 rounded-lg",children:e.jsx("p",{className:"text-xs text-neutral/70 text-center",children:"If you continue to have trouble accessing your account, please contact the system administrator."})})]})}):e.jsx(o,{title:"Reset Password",subtitle:"Enter your email address and we'll send you reset instructions",children:e.jsxs("form",{onSubmit:m(y),className:"space-y-6",children:[t&&e.jsx(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:e.jsx("p",{className:"text-red-500 text-sm",children:t})}),e.jsx("div",{children:e.jsx(C,{...d("email"),type:"email",label:"Email Address",placeholder:"Enter your admin email address",leftIcon:e.jsx(I,{className:"h-4 w-4"}),error:u.email?.message,disabled:s,autoComplete:"email",autoFocus:!0})}),e.jsx(l,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,disabled:!x||s,loading:s,children:s?"Sending...":"Send Reset Instructions"}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{type:"button",onClick:a,className:"inline-flex items-center gap-2 text-sm text-neutral/70 hover:text-primary-500 transition-colors",disabled:s,children:[e.jsx(P,{className:"h-4 w-4"}),"Back to Sign In"]})}),e.jsx("div",{className:"mt-6 p-4 bg-surface/50 border border-glass-border rounded-lg",children:e.jsx("p",{className:"text-xs text-neutral/70 text-center",children:"For security reasons, password reset is only available for verified admin accounts. The reset link will expire in 1 hour."})})]})})};export{G as ForgotPasswordPage,G as default};
